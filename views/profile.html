<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <meta name="author" content="Neil Ricci">

      <title>Beam, a personal finance visualizer</title>

      <!-- Bootstrap core CSS -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

      <link rel="stylesheet" type="text/css" href="/css/index.css">
  </head>
  <body>
    <div class="container px-4 py-5">
      <header class="d-flex justify-content-between border-bottom">
        <div class="mb-3 mb-md-0">
          <h1>Beam</h1>
        </div>
        <div>
          <button type="button" class="btn btn-outline-dark" id="sign-out">Sign out</button>
        </div>
      </header>
    </div>

    <script src="/js/jquery.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

    <!-- The core Firebase JS SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>

    <!-- Firebase products
        https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-auth.js"></script>

    <script>
      // App's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyCpUO4xRTzabMqfxfEPU7HlUVO22yfyb3A",
        authDomain: "beam-94bf1.firebaseapp.com",
        projectId: "beam-94bf1",
        storageBucket: "beam-94bf1.appspot.com",
        messagingSenderId: "119980617646",
        appId: "1:119980617646:web:74d17808d0aaf52161223f",
        measurementId: "G-LVZ03X1S6X"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      firebase.analytics();
    </script>

    <script>
      firebase.auth().onAuthStateChanged((user) => {
        if (user) {
          // User is signed in, see docs for a list of available properties
          // https://firebase.google.com/docs/reference/js/firebase.User
          var uid = user.uid;
          console.log("uid: " + uid)
        } else {
          location.href = '/';
        }
      });

      $("#sign-out").click((param) => {
        console.log(param);
        firebase.auth().signOut();
      })
    </script>
  </body>
</html>
